<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analisador de Números</title>
    <link rel="stylesheet" href="style.css">
    
</head>
<body>
    
    <header id="cabecalho"><h1>Analisador de Números</h1></header>


    <section id="corpo">

        <div>  
            <p>Número entre 1 e 100:
                <input type="number" name="txtn" id="txtn" min="0">
                <input type="button" value="Adicionar" onclick="adiciona()">
            </p>

            <select name="flista" id="lista" size="6" >
              
            </select>
            <br>
            <input type="button" value="Finalizar" id="final" onclick="final()">


        </div>
       
        
        <div id="res">

        </div>

    </section>


    <footer id="rodape"><p> © Diego Mendes 2021</p></footer>

    <script>
    //Criando o array principal:
    let colection = []; 
    
    //Pegando os valores:
    let numero = document.getElementById('txtn');
   
    let exibicao = document.getElementById('lista')
    let res = document.getElementById('res');


    //Function verifica se é um número e se está entre 1-100
    function isNumero(n){
      if(Number(n.value) >= 1 && Number(n.value) <=100) {
        return true;
      }else{
        return false;
      }
}

//verifica se tem alguma coisa na lista colection
  function isLista(n, l){
    if(l.indexOf(Number(n.value)) != -1){
      return true
    }else{
      return false
    }
  }


  /*Função do botão Adicionar-----------------------------------------*/
     function adiciona() {

      //Usa as duas funções criadas acima e continua se as duas forem true:
      if(isNumero(numero) && !isLista(numero, colection)){
      colection.push(Number(numero.value))
       
      /*usa uma variável pra criar e armazenar um elemento novo, no caso, um option*/
      let item = document.createElement('option')
      
      /*item usa o .text para armazenar uma string no elemento option*/
      item.text = `Valor ${numero.value} adicionado!`
      
      /*define item como um elemento filho da select exibicao*/
      exibicao.appendChild(item)
      
      /*garante que se for adicionado um número no select a div de resultado apaga:*/
      res.innerHTML = ''
       
      }
      else{
      window.alert("Insira um número válido!")

      }

      /*Método que deixa o foco do cursor no campo de texto*/
      numero.value = ''
      numero.focus()

    }

    function final(){
      let soma=0 
      
      /*Se não tiver adicionado nenhum valor e clicar em finalizar:*/
      if(colection.length == 0){
        window.alert("Adicione valores primeiro!")
      }else{
        
      
        /*Mostra a quantidade de elementos em colection. (.length)*/
      res.innerHTML += `<p>Ao todo, temos ${colection.length} números cadastrados</p>`
      
      /*Mostra o maior número. (.Math.max.apply)*/
      res.innerHTML += `<p>O maior número informado foi o ${Math.max.apply(null, colection)}</p>`

      /*Mostra o menor número, mesmo método de cima*/
      res.innerHTML += `<p>O menor número informado foi ${Math.min.apply(null, colection)}</p>`

      /*Laço que faz a soma total de todos os valores*/
      for(let i=0; i < colection.length; i++){
        
        soma += colection[i]
      }
      /*Exibe a soma*/
      res.innerHTML += `<p>A soma de todos os valores é ${soma} </p>`

        /*Exibe a média, soma dividido pela quantidade de elementos*/
      res.innerHTML += `<p>A média dos valores é ${soma/colection.length}</p>`

      
      
      }

    }
     
     

        

    </script>



</body>
</html>